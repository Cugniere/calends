Metadata-Version: 2.4
Name: calends
Version: 0.1.0
Summary: A minimalist terminal calendar that displays your iCal events in a clean weekly view
Home-page: https://github.com/cugniere/calends
Author: Cugniere
License: MIT
Project-URL: Homepage, https://github.com/cugniere/calends
Project-URL: Repository, https://github.com/cugniere/calends
Project-URL: Issues, https://github.com/cugniere/calends/issues
Keywords: calendar,ical,terminal,cli,ics
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Intended Audience :: End Users/Desktop
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Office/Business :: Scheduling
Classifier: Topic :: Utilities
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Provides-Extra: dev
Requires-Dist: black>=25.9.0; extra == "dev"
Requires-Dist: pytest>=8.4.2; extra == "dev"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# Calends

A minimalist terminal calendar that displays your iCal events in a clean weekly view with support for recurring events, timezones, and remote calendars.

![Demo Animation](../assets/calends.png?raw=true)

## Installation

```bash
pip install -e .
```

## Quick Start

```bash
# View local calendar
calends calendar.ics

# View remote calendar
calends https://example.com/calendar.ics

# Interactive mode with event selection and details
calends -i calendar.ics

# Use config file (auto-detected in current directory)
calends

# Or specify config file
calends -c config.json

# View specific week
calends -d 2025-12-25 calendar.ics

# Use specific timezone
calends -tz UTC calendar.ics
calends -tz +05:30 calendar.ics

# Cache management
calends --cache-info        # Show cache statistics
calends --clear-cache       # Clear the cache
```

### Interactive Mode

In interactive mode (`-i`), you can:
- Navigate between weeks and select events
- View detailed event information in a formatted box
- See calendar names (when using aliases)
- Auto-refresh calendars in the background
- Jump to any date quickly

The event details panel shows:
```
┌─────────────────────────────── Event Details ────────────────────────────────┐
│ Title: Team Meeting                                                          │
│ Calendar: Work                                                               │
│ Time: Monday, October 27, 2025 at 14:00 - 15:00                              │
│ Location: Conference Room A                                                  │
│ Attendees: Alice, Bob, Charlie                                               │
│ Description: Weekly team sync to discuss project progress                    │
└──────────────────────────────────────────────────────────────────────────────┘
```

## Configuration

Create `calendars.json` or `calends.json` in your current directory. The config file is auto-detected.

### Format

```json
{
  "calendars": {
    "Work": "https://example.com/work.ics",
    "Personal": "/path/to/personal.ics",
    "Shared": "https://example.com/shared.ics"
  },
  "timezone": "UTC",
  "cache_expiration": 3600,
  "auto_refresh_interval": 300
}
```

**Configuration Options:**
- `calendars`: Dictionary mapping names to sources
- `timezone`: UTC, LOCAL, or offset like +05:30 (default: LOCAL)
- `cache_expiration`: Cache duration in seconds (default: 3600)
- `auto_refresh_interval`: Auto-refresh interval in seconds for interactive mode (default: 300, set to 0 to disable)

## Options

- `SOURCE`: iCal file path or URL
- `-c, --config FILE`: Config file path
- `-d, --date YYYY-MM-DD`: Start date (adjusts to Monday)
- `-tz, --timezone TZ`: Timezone (UTC, LOCAL, or offset like +05:30)
- `-i, --interactive`: Interactive mode for week navigation
- `--no-color`: Disable colors
- `--no-progress`: Disable progress indicators
- `--cache-info`: Display cache statistics
- `--clear-cache`: Clear the calendar cache

## Features

### Display & Navigation
- Clean weekly calendar view with centered headers
- **Interactive navigation** with keyboard shortcuts:
  - ↑/↓: Select events
  - n/→/Space: Next week
  - p/←: Previous week
  - t: Today (current week)
  - j: Jump to specific date
  - r: Refresh calendars
  - h/?: Help
  - q/ESC: Quit
- **Event details panel** with bordered box display showing:
  - Title, calendar name, time, location
  - Attendees list (from ATTENDEE fields)
  - Description with HTML tags stripped
  - Color-coded labels (green) for better readability
- Color-coded events (ongoing/past/future)
- Selection marker (▶) for current event

### Calendar Features
- Support for recurring events (RRULE: DAILY, WEEKLY, MONTHLY, YEARLY)
- Multi-day event expansion
- Timezone conversion (UTC, LOCAL, or custom offsets)
- **Calendar aliases** for friendly names
- **Attendee parsing** from iCal ATTENDEE fields

### Performance & Caching
- **Smart URL caching** with content change detection
- **Parallel URL fetching** for faster loading
- **Background auto-refresh** in interactive mode (configurable interval)
- Manual cache management (--cache-info, --clear-cache)
- Progress indicators for network operations

## Testing

Install developer dependencies by running:

```bash
pip install requirements.dev.txt
```

Then run the tests with the command:
```bash
pytest
```
